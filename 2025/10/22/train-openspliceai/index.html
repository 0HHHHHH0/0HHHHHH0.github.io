<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è› | HHHH</title><meta name="author" content="HHHH"><meta name="copyright" content="HHHH"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›æœ¬æŒ‡å—æä¾›äº†ä¸€ä¸ªè¯¦ç»†ã€é€æ­¥çš„æ•™ç¨‹ï¼Œç”¨äºåœ¨é•¿ç‰¡è›æ•°æ®ä¸Šè®­ç»ƒä¸€ä¸ª OpenSpliceAI æ¨¡å‹ã€‚ä½¿ç”¨ç‰©ç§ç‰¹å¼‚æ€§çš„åŸºå› ç»„å’Œæ³¨é‡Šæ–‡ä»¶ï¼Œæ‚¨å¯ä»¥ç”Ÿæˆè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†ï¼Œç„¶åè®­ç»ƒä¸€ä¸ªä¸“ä¸ºç‰¡è›å®šåˆ¶çš„å‰ªæ¥ä½ç‚¹é¢„æµ‹æ¨¡å‹ã€‚è¯¥æµç¨‹ä¸äººç±» MANE å·¥ä½œæµç¨‹ç±»ä¼¼ï¼Œä½†æ ¹æ®éœ€è¦å¯¹è¾“å…¥æ–‡ä»¶å’Œå‚æ•°è¿›è¡Œäº†è°ƒæ•´ã€‚ å‰ç½®æ¡ä»¶åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»ï¼š  å®‰è£…äº† OpenSpliceAIï¼šè¯·æŒ‰ç…§å®‰è£…é¡µé¢çš„è¯´æ˜è¿›è¡Œ">
<meta property="og:type" content="article">
<meta property="og:title" content="è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›">
<meta property="og:url" content="https://0hhhhhh0.github.io/2025/10/22/train-openspliceai/index.html">
<meta property="og:site_name" content="HHHH">
<meta property="og:description" content="è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›æœ¬æŒ‡å—æä¾›äº†ä¸€ä¸ªè¯¦ç»†ã€é€æ­¥çš„æ•™ç¨‹ï¼Œç”¨äºåœ¨é•¿ç‰¡è›æ•°æ®ä¸Šè®­ç»ƒä¸€ä¸ª OpenSpliceAI æ¨¡å‹ã€‚ä½¿ç”¨ç‰©ç§ç‰¹å¼‚æ€§çš„åŸºå› ç»„å’Œæ³¨é‡Šæ–‡ä»¶ï¼Œæ‚¨å¯ä»¥ç”Ÿæˆè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†ï¼Œç„¶åè®­ç»ƒä¸€ä¸ªä¸“ä¸ºç‰¡è›å®šåˆ¶çš„å‰ªæ¥ä½ç‚¹é¢„æµ‹æ¨¡å‹ã€‚è¯¥æµç¨‹ä¸äººç±» MANE å·¥ä½œæµç¨‹ç±»ä¼¼ï¼Œä½†æ ¹æ®éœ€è¦å¯¹è¾“å…¥æ–‡ä»¶å’Œå‚æ•°è¿›è¡Œäº†è°ƒæ•´ã€‚ å‰ç½®æ¡ä»¶åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»ï¼š  å®‰è£…äº† OpenSpliceAIï¼šè¯·æŒ‰ç…§å®‰è£…é¡µé¢çš„è¯´æ˜è¿›è¡Œ">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://0hhhhhh0.github.io/uploads/avatar.png">
<meta property="article:published_time" content="2025-10-22T11:26:00.000Z">
<meta property="article:modified_time" content="2025-10-22T11:32:15.000Z">
<meta property="article:author" content="HHHH">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="ç»„å­¦">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="æŠ˜è…¾">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://0hhhhhh0.github.io/uploads/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›",
  "url": "https://0hhhhhh0.github.io/2025/10/22/train-openspliceai/",
  "image": "https://0hhhhhh0.github.io/uploads/avatar.png",
  "datePublished": "2025-10-22T11:26:00.000Z",
  "dateModified": "2025-10-22T11:32:15.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "HHHH",
      "url": "https://0HHHHHH0.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/uploads/avatar.png"><link rel="canonical" href="https://0hhhhhh0.github.io/2025/10/22/train-openspliceai/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":-1,"unescape":true,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/jetbrains-mono@4.5.12/index.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/styles/css/font.css"><link rel="stylesheet" href="/css/mermaid.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="HHHH" type="application/atom+xml">
</head><body><div id="loading-box"><div class="scarecrow"><div class="scarecrow__hat"><div class="scarecrow__ribbon"></div></div><div class="scarecrow__head"><div class="scarecrow__eye"></div><div class="scarecrow__eye"></div><div class="scarecrow__mouth"></div><div class="scarecrow__pipe"></div></div><div class="scarecrow__body"><div class="scarecrow__glove scarecrow__glove--l"></div><div class="scarecrow__sleeve scarecrow__sleeve--l"></div><div class="scarecrow__bow"></div><div class="scarecrow__shirt"></div><div class="scarecrow__coat"></div><div class="scarecrow__waistcoat"></div><div class="scarecrow__sleeve scarecrow__sleeve--r"></div><div class="scarecrow__glove scarecrow__glove--r"></div><div class="scarecrow__coattails"></div><div class="scarecrow__pants"></div></div><div class="scarecrow__arms"></div><div class="scarecrow__leg">  </div></div></div><script async="async">(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      if ($loadingBox.classList.contains('loaded')) return
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()

  if (document.readyState === 'complete') {
    preloader.endLoading()
  } else {
    window.addEventListener('load', preloader.endLoading)
    document.addEventListener('DOMContentLoaded', preloader.endLoading)
    // Add timeout protection: force end after 7 seconds
    setTimeout(preloader.endLoading, 7000)
  }

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-color: #fbfdff;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/uploads/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">29</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/uploads/avatar.png" alt="Logo"><span class="site-name">HHHH</span></a><a class="nav-page-title" href="/"><span class="site-name">è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-10-22T11:26:00.000Z" title="Created 2025-10-22 19:26:00">2025-10-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-22T11:32:15.000Z" title="Updated 2025-10-22 19:32:15">2025-10-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div class="ai-summary"><div class="ai-explanation" style="display: block;" data-summary="è¿™ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨é•¿ç‰¡è›æ•°æ®é›†ä¸Šè®­ç»ƒOpenSpliceAIæ¨¡å‹çš„å®Œæ•´æµç¨‹ã€‚ä¸»è¦å†…å®¹åŒ…æ‹¬å‡†å¤‡å·¥ä½œï¼ˆå®‰è£…è½¯ä»¶ã€è·å–åŸºå› ç»„å’Œæ³¨é‡Šæ–‡ä»¶ï¼‰ã€æ£€æŸ¥è¾“å…¥æ–‡ä»¶ã€åˆ›å»ºè®­ç»ƒæµ‹è¯•æ•°æ®é›†ï¼ˆä½¿ç”¨HDF5æ ¼å¼è½¬æ¢åŸºå› ç»„æ•°æ®ï¼‰ã€è®­ç»ƒå®šåˆ¶åŒ–æ¨¡å‹ï¼ˆè®¾ç½®ä¾§ç¿¼åºåˆ—é•¿åº¦ã€æŸå¤±å‡½æ•°ç­‰å‚æ•°ï¼‰ä»¥åŠå¯é€‰çš„æ¨¡å‹è½¬ç§»è®­ç»ƒã€‚æ–‡ç« æä¾›äº†å…·ä½“çš„bashè„šæœ¬ç¤ºä¾‹å’Œå…³é”®å‚æ•°è§£é‡Šï¼ŒæŒ‡å¯¼ç”¨æˆ·å®Œæˆä»æ•°æ®å¤„ç†åˆ°æ¨¡å‹è®­ç»ƒçš„å…¨è¿‡ç¨‹ï¼Œé€‚ç”¨äºç”Ÿç‰©ä¿¡æ¯å­¦ç ”ç©¶äººå‘˜å¼€å‘é’ˆå¯¹é•¿ç‰¡è›çš„å‰ªæ¥ä½ç‚¹é¢„æµ‹æ¨¡å‹ã€‚">AIæ­£åœ¨ç»å°½è„‘æ±æƒ³æ€è·¯INGÂ·Â·Â·</div><div class="ai-title"> <div class="ai-title-left"> <i class="fa-brands fa-slack"></i><div class="ai-title-text">AIæ‘˜è¦</div></div><div class="ai-tag" id="ai-tag">deepseek-ai/DeepSeek-V3</div></div></div><h1 id="è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›"><a href="#è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›" class="headerlink" title="è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›"></a>è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›</h1><p>æœ¬æŒ‡å—æä¾›äº†ä¸€ä¸ªè¯¦ç»†ã€é€æ­¥çš„æ•™ç¨‹ï¼Œç”¨äºåœ¨é•¿ç‰¡è›æ•°æ®ä¸Šè®­ç»ƒä¸€ä¸ª OpenSpliceAI æ¨¡å‹ã€‚ä½¿ç”¨ç‰©ç§ç‰¹å¼‚æ€§çš„åŸºå› ç»„å’Œæ³¨é‡Šæ–‡ä»¶ï¼Œæ‚¨å¯ä»¥ç”Ÿæˆè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†ï¼Œç„¶åè®­ç»ƒä¸€ä¸ªä¸“ä¸ºç‰¡è›å®šåˆ¶çš„å‰ªæ¥ä½ç‚¹é¢„æµ‹æ¨¡å‹ã€‚è¯¥æµç¨‹ä¸äººç±» MANE å·¥ä½œæµç¨‹ç±»ä¼¼ï¼Œä½†æ ¹æ®éœ€è¦å¯¹è¾“å…¥æ–‡ä»¶å’Œå‚æ•°è¿›è¡Œäº†è°ƒæ•´ã€‚</p>
<h2 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h2><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»ï¼š</p>
<ol>
<li><strong>å®‰è£…äº† OpenSpliceAI</strong>ï¼šè¯·æŒ‰ç…§å®‰è£…é¡µé¢çš„è¯´æ˜è¿›è¡Œæ“ä½œã€‚</li>
<li><strong>å…‹éš†äº†ä»£ç åº“</strong>ï¼šä» LiftOn OpenSpliceAI ä»£ç åº“å…‹éš† OpenSpliceAI ä»£ç åº“ã€‚</li>
<li><strong>ä¸‹è½½äº†é•¿ç‰¡è›çš„è¾“å…¥æ–‡ä»¶</strong>ï¼š<ul>
<li><strong>å‚è€ƒåŸºå› ç»„</strong>ï¼šä¾‹å¦‚ï¼Œé•¿ç‰¡è›åŸºå› ç»„ç»„è£…å¯ä»¥ä»è¿™é‡Œè·å– <code>GCA_902806645.1_cgigas_uk_roslin_v1_genomic.fna</code></li>
<li><strong>æ³¨é‡Šæ–‡ä»¶</strong>ï¼šé•¿ç‰¡è›åŸºå› æ³¨é‡Šæ–‡ä»¶ <code>GCF_902806645.1_cgigas_uk_roslin_v1_genomic.gff</code></li>
</ul>
</li>
</ol>
<h2 id="æ­¥éª¤-1ï¼šæ£€æŸ¥è¾“å…¥æ–‡ä»¶"><a href="#æ­¥éª¤-1ï¼šæ£€æŸ¥è¾“å…¥æ–‡ä»¶" class="headerlink" title="æ­¥éª¤ 1ï¼šæ£€æŸ¥è¾“å…¥æ–‡ä»¶"></a>æ­¥éª¤ 1ï¼šæ£€æŸ¥è¾“å…¥æ–‡ä»¶</h2><p>è½¬æ¢åŸºå› ç»„åå­—ï¼Œä½¿å…¶ä¸æ³¨é‡Šgffæ–‡ä»¶ä¸­åå­—ä¸€è‡´ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># å˜é‡é…ç½®</span>
<span class="token assign-left variable">FLANKING_SIZE</span><span class="token operator">=</span><span class="token number">400</span>
<span class="token assign-left variable">EXPERIMENT_NAME</span><span class="token operator">=</span><span class="token string">"oyster_full_dataset"</span>
<span class="token assign-left variable">TRAIN_DATASET</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/train_test_dataset/dataset_train.h5"</span>
<span class="token assign-left variable">TEST_DATASET</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/train_test_dataset/dataset_test.h5"</span>
<span class="token assign-left variable">OUTPUT_DIR</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/oyster_model_train_outdir"</span>
<span class="token assign-left variable">PROJECT_NAME</span><span class="token operator">=</span><span class="token string">"OpenSpliceAI-Oyster"</span>
<span class="token assign-left variable">RANDOM_SEED</span><span class="token operator">=</span><span class="token number">42</span>
<span class="token assign-left variable">MODEL</span><span class="token operator">=</span><span class="token string">"SpliceAI"</span>
<span class="token assign-left variable">LOSS</span><span class="token operator">=</span><span class="token string">"cross_entropy_loss"</span>
<span class="token assign-left variable">EPOCHS</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">PATIENCE</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">SCHEDULER</span><span class="token operator">=</span><span class="token string">"MultiStepLR"</span>

<span class="token comment"># åˆ›å»ºè¾“å‡ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token string">"<span class="token variable">$OUTPUT_DIR</span>"</span>

<span class="token comment"># æ‰§è¡Œè®­ç»ƒå‘½ä»¤</span>
openspliceai train <span class="token punctuation">\</span>
   --flanking-size <span class="token variable">$FLANKING_SIZE</span> <span class="token punctuation">\</span>
   --exp-num <span class="token variable">$EXPERIMENT_NAME</span> <span class="token punctuation">\</span>
   --train-dataset <span class="token variable">$TRAIN_DATASET</span> <span class="token punctuation">\</span>
   --test-dataset <span class="token variable">$TEST_DATASET</span> <span class="token punctuation">\</span>
   --output-dir <span class="token variable">$OUTPUT_DIR</span> <span class="token punctuation">\</span>
   --project-name <span class="token variable">$PROJECT_NAME</span> <span class="token punctuation">\</span>
   --random-seed <span class="token variable">$RANDOM_SEED</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--model</span> <span class="token variable">$MODEL</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--loss</span> <span class="token variable">$LOSS</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--epochs</span> <span class="token variable">$EPOCHS</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--patience</span> <span class="token variable">$PATIENCE</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--scheduler</span> <span class="token variable">$SCHEDULER</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Training completed. Model and logs saved to <span class="token variable">$OUTPUT_DIR</span>."</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‘½åä¸º<code>1.n2n.sh</code>ï¼Œ<code>chmod +x 1.n2n.sh</code>ï¼Œ<code>./1.n2n.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h2 id="æ­¥éª¤-2ï¼šåˆ›å»ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†"><a href="#æ­¥éª¤-2ï¼šåˆ›å»ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†" class="headerlink" title="æ­¥éª¤ 2ï¼šåˆ›å»ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†"></a>æ­¥éª¤ 2ï¼šåˆ›å»ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†</h2><p>ä½¿ç”¨ <code>create-data</code> å­å‘½ä»¤å¤„ç†å°é¼ å‚è€ƒåŸºå› ç»„å’Œæ³¨é‡Šæ–‡ä»¶ï¼Œå°†å…¶è½¬æ¢ä¸º HDF5 æ ¼å¼çš„æ•°æ®é›†ã€‚æ­¤æ­¥éª¤æå–åŸºå› åºåˆ—ï¼Œé€‰æ‹©å…¸å‹è½¬å½•æœ¬ï¼ˆé€šå¸¸æ˜¯è›‹ç™½è´¨ç¼–ç çš„ï¼‰ï¼Œå¹¶å¯¹åºåˆ—å’Œå‰ªæ¥ä½ç‚¹æ ‡ç­¾è¿›è¡Œç‹¬çƒ­ç¼–ç ã€‚</p>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆè¯·æ ¹æ®éœ€è¦æ›´æ–°æ–‡ä»¶åï¼‰ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">GENOME</span><span class="token operator">=</span><span class="token string">"GCA_902806645.1_cgigas_uk_roslin_v1_genomic_fixed.fna"</span>
<span class="token assign-left variable">ANNOTATION</span><span class="token operator">=</span><span class="token string">"GCF_902806645.1_cgigas_uk_roslin_v1_genomic.gff"</span>
<span class="token assign-left variable">OUTPUT_DIR</span><span class="token operator">=</span><span class="token string">"train_test_dataset/"</span>

<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">${OUTPUT_DIR}</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Starting accurate data processing at <span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"This may take several hours for a complete genome..."</span>

openspliceai create-data <span class="token punctuation">\</span>
    --genome-fasta <span class="token string">"<span class="token variable">$GENOME</span>"</span> <span class="token punctuation">\</span>
    --annotation-gff <span class="token string">"<span class="token variable">$ANNOTATION</span>"</span> <span class="token punctuation">\</span>
    --output-dir <span class="token string">"<span class="token variable">$OUTPUT_DIR</span>"</span> <span class="token punctuation">\</span>
    --parse-type canonical <span class="token punctuation">\</span>
    --split-method random <span class="token punctuation">\</span>
    --remove-paralogs <span class="token punctuation">\</span>
    --min-identity <span class="token number">0.8</span> <span class="token punctuation">\</span>
    --min-coverage <span class="token number">0.8</span> <span class="token punctuation">\</span>
    --canonical-only <span class="token punctuation">\</span>
    <span class="token parameter variable">--biotype</span> protein-coding <span class="token punctuation">\</span>
    --write-fasta <span class="token punctuation">\</span>
    <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">tee</span> <span class="token string">"<span class="token variable">$OUTPUT_DIR</span>/processing.log"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Completed at <span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Check <span class="token variable">$OUTPUT_DIR</span> for output files"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>å…³é”®é€‰é¡¹è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>--remove-paralogs</code>ï¼šè¿‡æ»¤æ‰æ—ç³»åŒæºåºåˆ—ä»¥é¿å…æ•°æ®æ³„éœ²ã€‚</li>
<li><code>--min-identity 0.8</code> å’Œ <code>--min-coverage 0.8</code>ï¼šè®¾ç½®è¿‡æ»¤é˜ˆå€¼ã€‚</li>
<li><code>--parse-type canonical</code>ï¼šé€‰æ‹©æ¯ä¸ªåŸºå› æœ€é•¿çš„å…¸å‹è½¬å½•æœ¬ã€‚</li>
<li><code>--split-method mouse</code>ï¼šåº”ç”¨å°é¼ ç‰¹å®šçš„è§„åˆ™å°†æ•°æ®åˆ†å‰²æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚</li>
<li><code>--canonical-only</code>ï¼šå°†æ ‡è®°é™åˆ¶åœ¨ä¿å®ˆçš„å‰ªæ¥ä½ç‚¹æ¨¡ä½“ã€‚</li>
</ul>
<p>è¿è¡Œæ­¤å‘½ä»¤åï¼Œæ£€æŸ¥è¾“å‡ºç›®å½•ä¸­çš„ä¸¤ä¸ªä¸»è¦æ–‡ä»¶ï¼š</p>
<ul>
<li><code>dataset_train.h5</code>ï¼ˆè®­ç»ƒæ•°æ®é›†ï¼‰</li>
<li><code>dataset_test.h5</code>ï¼ˆæµ‹è¯•æ•°æ®é›†ï¼‰</li>
</ul>
<p>å‘½åä¸º<code>2.create-data_cg.sh</code>ï¼Œ<code>chmod +x 2.create-data_cg.sh</code>ï¼Œ<code>./2.create-data_cg.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h2 id="æ­¥éª¤-3ï¼šè®­ç»ƒé•¿ç‰¡è›æ¨¡å‹"><a href="#æ­¥éª¤-3ï¼šè®­ç»ƒé•¿ç‰¡è›æ¨¡å‹" class="headerlink" title="æ­¥éª¤ 3ï¼šè®­ç»ƒé•¿ç‰¡è›æ¨¡å‹"></a>æ­¥éª¤ 3ï¼šè®­ç»ƒé•¿ç‰¡è›æ¨¡å‹</h2><p>æ•°æ®é›†å‡†å¤‡å¥½åï¼Œä½¿ç”¨ <code>train</code> å­å‘½ä»¤è®­ç»ƒæ‚¨çš„å°é¼ å‰ªæ¥ä½ç‚¹é¢„æµ‹æ¨¡å‹ã€‚æ‚¨å¯ä»¥æ ¹æ®åº”ç”¨é€‰æ‹©åˆé€‚çš„ä¸¤ä¾§ä¾§ç¿¼åºåˆ—é•¿åº¦ï¼›åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ 10,000 ä¸ªæ ¸è‹·é…¸çš„ä¾§ç¿¼å¤§å°ï¼Œè¿™åœ¨å…ˆå‰çš„ç ”ç©¶ä¸­å·²è¢«è¯æ˜æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ ¹æ®éœ€è¦è°ƒæ•´æ–‡ä»¶è·¯å¾„å’Œå‚æ•°ï¼‰ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># å˜é‡é…ç½®</span>
<span class="token assign-left variable">FLANKING_SIZE</span><span class="token operator">=</span><span class="token number">400</span>
<span class="token assign-left variable">EXPERIMENT_NAME</span><span class="token operator">=</span><span class="token string">"oyster_full_dataset"</span>
<span class="token assign-left variable">TRAIN_DATASET</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/train_test_dataset/dataset_train.h5"</span>
<span class="token assign-left variable">TEST_DATASET</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/train_test_dataset/dataset_test.h5"</span>
<span class="token assign-left variable">OUTPUT_DIR</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/oyster_model_train_outdir"</span>
<span class="token assign-left variable">PROJECT_NAME</span><span class="token operator">=</span><span class="token string">"OpenSpliceAI-Oyster"</span>
<span class="token assign-left variable">RANDOM_SEED</span><span class="token operator">=</span><span class="token number">42</span>
<span class="token assign-left variable">MODEL</span><span class="token operator">=</span><span class="token string">"SpliceAI"</span>
<span class="token assign-left variable">LOSS</span><span class="token operator">=</span><span class="token string">"cross_entropy_loss"</span>
<span class="token assign-left variable">EPOCHS</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">PATIENCE</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">SCHEDULER</span><span class="token operator">=</span><span class="token string">"MultiStepLR"</span>

<span class="token comment"># åˆ›å»ºè¾“å‡ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token string">"<span class="token variable">$OUTPUT_DIR</span>"</span>

<span class="token comment"># æ‰§è¡Œè®­ç»ƒå‘½ä»¤</span>
openspliceai train <span class="token punctuation">\</span>
   --flanking-size <span class="token variable">$FLANKING_SIZE</span> <span class="token punctuation">\</span>
   --exp-num <span class="token variable">$EXPERIMENT_NAME</span> <span class="token punctuation">\</span>
   --train-dataset <span class="token variable">$TRAIN_DATASET</span> <span class="token punctuation">\</span>
   --test-dataset <span class="token variable">$TEST_DATASET</span> <span class="token punctuation">\</span>
   --output-dir <span class="token variable">$OUTPUT_DIR</span> <span class="token punctuation">\</span>
   --project-name <span class="token variable">$PROJECT_NAME</span> <span class="token punctuation">\</span>
   --random-seed <span class="token variable">$RANDOM_SEED</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--model</span> <span class="token variable">$MODEL</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--loss</span> <span class="token variable">$LOSS</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--epochs</span> <span class="token variable">$EPOCHS</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--patience</span> <span class="token variable">$PATIENCE</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--scheduler</span> <span class="token variable">$SCHEDULER</span>

<span class="token builtin class-name">echo</span> <span class="token string">"Training completed. Model and logs saved to <span class="token variable">$OUTPUT_DIR</span>."</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>é€‰é¡¹è§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>--flanking-size 10000</code>ï¼šå°†ä¾§ç¿¼åŒºåŸŸè®¾ç½®ä¸º 10,000 ä¸ªæ ¸è‹·é…¸ã€‚</li>
<li><code>--exp-num mouse_full_dataset</code>ï¼šæ­¤å®éªŒçš„æ ‡ç­¾ã€‚</li>
<li><code>--random-seed 42</code>ï¼šç¡®ä¿ç»“æœå¯é‡ç°ã€‚</li>
<li><code>--model SpliceAI</code>ï¼šä½¿ç”¨ SpliceAI æ¨¡å‹æ¶æ„ã€‚</li>
<li><code>--loss cross_entropy_loss</code>ï¼šæŒ‡å®šæŸå¤±å‡½æ•°ã€‚</li>
<li>æ¨¡å‹æ£€æŸ¥ç‚¹ï¼ˆä¾‹å¦‚ <code>model_best.pt</code>ï¼‰å’Œè®­ç»ƒæ—¥å¿—å°†ä¿å­˜åœ¨æŒ‡å®šçš„è¾“å‡ºç›®å½•ä¸­ã€‚</li>
</ul>
<p>å‘½åä¸º<code>3.train_model.sh</code>ï¼Œ<code>chmod +x 3.train_model.sh</code>ï¼Œ<code>./3.train_model.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h2 id="æ­¥éª¤-4ï¼ˆå¯é€‰ï¼‰ï¼šè½¬ç§»æ¨¡å‹"><a href="#æ­¥éª¤-4ï¼ˆå¯é€‰ï¼‰ï¼šè½¬ç§»æ¨¡å‹" class="headerlink" title="æ­¥éª¤ 4ï¼ˆå¯é€‰ï¼‰ï¼šè½¬ç§»æ¨¡å‹"></a>æ­¥éª¤ 4ï¼ˆå¯é€‰ï¼‰ï¼šè½¬ç§»æ¨¡å‹</h2><p>ä¸‹é¢å¯ä»¥ä¸è¿è¡Œï¼Œå‰é¢æ¨¡å‹è®­ç»ƒä½¿ç”¨çš„fz == 400ï¼Œæœºå™¨ä¸è¡Œï¼Œæ²¡è·‘å¤§çš„ï¼Œæ‰€ä»¥ä¸‹é¢ä½¿ç”¨<code>transfer</code>è®­ç»ƒ2000çš„ã€‚</p>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ ¹æ®éœ€è¦è°ƒæ•´æ–‡ä»¶è·¯å¾„å’Œå‚æ•°ï¼‰ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">openspliceai transfer <span class="token punctuation">\</span>
   --train-dataset /home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/train_test_dataset/dataset_train.h5 <span class="token punctuation">\</span>
   --test-dataset /home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/train_test_dataset/dataset_test.h5 <span class="token punctuation">\</span>
   --pretrained-model /home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/oyster_model_train_outdir/SpliceAI_OpenSpliceAI-Oyster_400_oyster_full_dataset_rs42/oyster_full_dataset/models/model_best.pt <span class="token punctuation">\</span>
   --flanking-size <span class="token number">2000</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--unfreeze</span> <span class="token number">2</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--scheduler</span> CosineAnnealingWarmRestarts <span class="token punctuation">\</span>
   <span class="token parameter variable">--loss</span> focal_loss <span class="token punctuation">\</span>
   <span class="token parameter variable">--epochs</span> <span class="token number">10</span> <span class="token punctuation">\</span>
   <span class="token parameter variable">--patience</span> <span class="token number">3</span> <span class="token punctuation">\</span>
   --early-stopping <span class="token punctuation">\</span>
   --project-name OpenSpliceAI-Oyster_2000_transfer <span class="token punctuation">\</span>
   --output-dir /home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/oyster_model_train_outdir<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‘½åä¸º<code>4.transfer_model.sh</code>ï¼Œ<code>chmod +x 4.transfer_model.sh</code>ï¼Œ<code>./4.transfer_model.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h2 id="æ­¥éª¤-5ï¼ˆå¯é€‰ï¼‰ï¼šæ ¡å‡†é•¿ç‰¡è›æ¨¡å‹"><a href="#æ­¥éª¤-5ï¼ˆå¯é€‰ï¼‰ï¼šæ ¡å‡†é•¿ç‰¡è›æ¨¡å‹" class="headerlink" title="æ­¥éª¤ 5ï¼ˆå¯é€‰ï¼‰ï¼šæ ¡å‡†é•¿ç‰¡è›æ¨¡å‹"></a>æ­¥éª¤ 5ï¼ˆå¯é€‰ï¼‰ï¼šæ ¡å‡†é•¿ç‰¡è›æ¨¡å‹</h2><p>æ ¡å‡†å¯ä»¥ä¼˜åŒ–æ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡ï¼Œä½¿å…¶æ›´èƒ½åæ˜ ç»éªŒä¸Šçš„å‰ªæ¥ä½ç‚¹å¯èƒ½æ€§ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨ <code>calibrate</code> å­å‘½ä»¤è¿è¡Œæ ¡å‡†æ­¥éª¤ã€‚</p>
<p>æ‰§è¡Œï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¼ºåˆ¶ä½¿ç”¨CPUé¿å…å†…å­˜é—®é¢˜</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token string">""</span>

openspliceai calibrate <span class="token punctuation">\</span>
   --flanking-size <span class="token number">2000</span> <span class="token punctuation">\</span>
   --train-dataset train_test_dataset/dataset_train.h5 <span class="token punctuation">\</span>
   --test-dataset train_test_dataset/dataset_test.h5 <span class="token punctuation">\</span>
   --output-dir model_calibrate_outdir_oyster/ <span class="token punctuation">\</span>
   --project-name OpenSpliceAI-oyster-calibrate <span class="token punctuation">\</span>
   --random-seed <span class="token number">42</span> <span class="token punctuation">\</span>
   --pretrained-model oyster_model_train_outdir/SpliceAI_OpenSpliceAI-Oyster_2000_transfer_2000_0_rs42/0/models/model_best.pt <span class="token punctuation">\</span>
   <span class="token parameter variable">--loss</span> cross_entropy_loss<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ­¤å‘½ä»¤ï¼š</p>
<ul>
<li>ä»æ‚¨çš„é•¿ç‰¡è›è®­ç»ƒè¿è¡Œä¸­åŠ è½½æœ€ä½³æ¨¡å‹æ£€æŸ¥ç‚¹ã€‚</li>
<li>ä¼˜åŒ–ç”¨äºæ ¡å‡†çš„æ¸©åº¦å‚æ•°ã€‚</li>
<li>å°†æ ¡å‡†è¾“å‡ºï¼ˆä¾‹å¦‚ï¼Œæ¸©åº¦å‚æ•°ã€å¯é æ€§æ›²çº¿ï¼‰ä¿å­˜åœ¨æŒ‡å®šç›®å½•ä¸­ã€‚</li>
</ul>
<h2 id="æ­¥éª¤-6ï¼šéƒ¨ç½²æ‚¨è®­ç»ƒå¥½çš„é•¿ç‰¡è›æ¨¡å‹"><a href="#æ­¥éª¤-6ï¼šéƒ¨ç½²æ‚¨è®­ç»ƒå¥½çš„é•¿ç‰¡è›æ¨¡å‹" class="headerlink" title="æ­¥éª¤ 6ï¼šéƒ¨ç½²æ‚¨è®­ç»ƒå¥½çš„é•¿ç‰¡è›æ¨¡å‹"></a>æ­¥éª¤ 6ï¼šéƒ¨ç½²æ‚¨è®­ç»ƒå¥½çš„é•¿ç‰¡è›æ¨¡å‹</h2><p>è®­ç»ƒï¼ˆä»¥åŠå¯é€‰çš„æ ¡å‡†ï¼‰å®Œæˆåï¼Œæ‚¨çš„å°é¼ æ¨¡å‹å°±å¯ä»¥ä½¿ç”¨äº†ã€‚æ‚¨ç°åœ¨å¯ä»¥ï¼š</p>
<ul>
<li><strong>é¢„æµ‹å‰ªæ¥ä½ç‚¹</strong>ï¼šä½¿ç”¨ <code>predict</code> å­å‘½ä»¤å¯¹æ–°çš„é•¿ç‰¡è› FASTA åºåˆ—è¿›è¡Œæ¨ç†ã€‚</li>
<li><strong>åˆ†æå˜å¼‚æ•ˆåº”</strong>ï¼šä½¿ç”¨ <code>variant</code> å­å‘½ä»¤è¯„ä¼°ç‰¹å®šçªå˜å¦‚ä½•å½±å“é•¿ç‰¡è›åŸºå› ç»„ä¸­çš„å‰ªæ¥ã€‚</li>
</ul>
<h3 id="æµ‹è¯•1ï¼š"><a href="#æµ‹è¯•1ï¼š" class="headerlink" title="æµ‹è¯•1ï¼š"></a>æµ‹è¯•1ï¼š</h3><p>æ‰§è¡Œï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">cd</span> /home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai

<span class="token builtin class-name">echo</span> <span class="token string">"=== ä½¿ç”¨ç»å¯¹è·¯å¾„æµ‹è¯• ==="</span>

<span class="token comment"># ä½¿ç”¨ç»å¯¹è·¯å¾„</span>
<span class="token assign-left variable">MODEL_PATH</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/oyster_model_train_outdir/SpliceAI_OpenSpliceAI-Oyster_2000_transfer_2000_0_rs42/0/models/model_best.pt"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"æ¨¡å‹è·¯å¾„: <span class="token variable">$MODEL_PATH</span>"</span>
<span class="token function">ls</span> <span class="token parameter variable">-la</span> <span class="token string">"<span class="token variable">$MODEL_PATH</span>"</span>

<span class="token comment"># åˆ›å»ºæµ‹è¯•åºåˆ—</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> test_snp.fasta <span class="token operator">&lt;&lt;</span> <span class="token string">'EOF'
&gt;reference_sequence
$(python3 -c "import random; random.seed(42); print(''.join(random.choices(['A','C','G','T'], k=1000)))")
&gt;mutant_sequence  
$(python3 -c "import random; random.seed(42); s=''.join(random.choices(['A','C','G','T'], k=1000)); print(s[:500] + 'A' + s[501:])")
EOF</span>

<span class="token builtin class-name">echo</span> <span class="token string">"æµ‹è¯•åºåˆ—å·²åˆ›å»º"</span>

<span class="token comment"># è¿è¡Œé¢„æµ‹</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"å¼€å§‹å‰ªæ¥ä½ç‚¹é¢„æµ‹..."</span>
openspliceai predict <span class="token punctuation">\</span>
    --input-sequence <span class="token string">"test_snp.fasta"</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--model</span> <span class="token string">"<span class="token variable">$MODEL_PATH</span>"</span> <span class="token punctuation">\</span>
    --flanking-size <span class="token number">2000</span> <span class="token punctuation">\</span>
    --output-dir <span class="token string">"snp_prediction_results"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"=== é¢„æµ‹å®Œæˆ ==="</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ç»“æœæ–‡ä»¶:"</span>
<span class="token function">find</span> snp_prediction_results <span class="token parameter variable">-type</span> f <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‘½åä¸º<code>6.single_snp_test.sh</code>ï¼Œ<code>chmod +x 6.single_snp_test.sh</code>ï¼Œ<code>./6.single_snp_test.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h3 id="æµ‹è¯•2ï¼š"><a href="#æµ‹è¯•2ï¼š" class="headerlink" title="æµ‹è¯•2ï¼š"></a>æµ‹è¯•2ï¼š</h3><p>æ‰§è¡Œï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># OpenSpliceAI è‡ªåŠ¨æå–æŸ“è‰²ä½“é•¿åº¦ç‰ˆæœ¬</span>

<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"OpenSpliceAI - è‡ªåŠ¨æå–æŸ“è‰²ä½“é•¿åº¦"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>

<span class="token comment"># è®¾ç½®å˜é‡</span>
<span class="token assign-left variable">INPUT_TSV</span><span class="token operator">=</span><span class="token string">"filtered_three2one.tsv"</span>
<span class="token assign-left variable">MODEL_PATH</span><span class="token operator">=</span><span class="token string">"/home/hhhh/OpenSpliceAI/OpenSpliceAI/spliciai/oyster_model_train_outdir/SpliceAI_OpenSpliceAI-Oyster_2000_transfer_2000_0_rs42/0/models/model_best.pt"</span>
<span class="token assign-left variable">REF_GENOME</span><span class="token operator">=</span><span class="token string">"GCA_902806645.1_cgigas_uk_roslin_v1_genomic_fixed.fna"</span>
<span class="token assign-left variable">OUTPUT_DIR</span><span class="token operator">=</span><span class="token string">"./final_fix_results_auto"</span>
<span class="token assign-left variable">INPUT_GFF</span><span class="token operator">=</span><span class="token string">"GCF_902806645.1_cgigas_uk_roslin_v1_genomic.gff"</span>
<span class="token assign-left variable">OUTPUT_TXT</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/oyster_annotation_clean.txt"</span>
<span class="token assign-left variable">ANNOTATION</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${OUTPUT_TXT}</span>"</span>

<span class="token comment"># åˆ›å»ºè¾“å‡ºç›®å½•</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">${OUTPUT_DIR}</span>

<span class="token comment"># 1. è‡ªåŠ¨ä»FASTAæ–‡ä»¶æå–æŸ“è‰²ä½“é•¿åº¦</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[1/6] ä»FASTAæ–‡ä»¶æå–æŸ“è‰²ä½“é•¿åº¦..."</span>

<span class="token comment"># åˆ›å»ºæå–æŸ“è‰²ä½“é•¿åº¦çš„Pythonè„šæœ¬</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/extract_chrom_lengths.py"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'EOF'
import re
import sys

def extract_chromosome_lengths(fasta_file, output_file):
    print(f"ä»FASTAæ–‡ä»¶æå–æŸ“è‰²ä½“é•¿åº¦: {fasta_file}")
    
    chrom_lengths = {}
    current_chrom = None
    current_length = 0
    
    with open(fasta_file, 'r') as f:
        for line in f:
            if line.startswith('&gt;'):
                # ä¿å­˜å‰ä¸€ä¸ªæŸ“è‰²ä½“çš„é•¿åº¦
                if current_chrom and current_length &gt; 0:
                    chrom_lengths[current_chrom] = current_length
                
                # è§£ææ–°çš„æŸ“è‰²ä½“å¤´
                header = line[1:].strip()
                # æå–æŸ“è‰²ä½“åç§°ï¼ˆé€šå¸¸æ˜¯ç¬¬ä¸€ä¸ªç©ºæ ¼å‰çš„éƒ¨åˆ†ï¼‰
                chrom_name = header.split()[0]
                current_chrom = chrom_name
                current_length = 0
                
                print(f"æ‰¾åˆ°æŸ“è‰²ä½“: {chrom_name}")
            else:
                # è®¡ç®—åºåˆ—é•¿åº¦
                current_length += len(line.strip())
        
        # ä¿å­˜æœ€åä¸€ä¸ªæŸ“è‰²ä½“
        if current_chrom and current_length &gt; 0:
            chrom_lengths[current_chrom] = current_length
    
    print(f"\nğŸ“Š æŸ“è‰²ä½“é•¿åº¦ç»Ÿè®¡:")
    for chrom, length in chrom_lengths.items():
        print(f"  {chrom}: {length:,} bp")
    
    # å†™å…¥VCFå¤´æ–‡ä»¶
    with open(output_file, 'w') as out:
        out.write("##fileformat=VCFv4.2\n")
        out.write('##INFO=&lt;ID=SpliceAI,Number=.,Type=String,Description="OpenSpliceAI annotation"&gt;\n')
        
        # å†™å…¥å‡†ç¡®çš„contigå®šä¹‰
        for chrom, length in chrom_lengths.items():
            out.write(f'##contig=&lt;ID={chrom},length={length}&gt;\n')
        
        out.write("#CHROM\tPOS\tID\tREF\tALT\tQUAL\tFILTER\tINFO\n")
    
    print(f"âœ… VCFå¤´æ–‡ä»¶å·²ç”Ÿæˆ: {output_file}")
    return chrom_lengths

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("ç”¨æ³•: python extract_chrom_lengths.py input.fasta output.vcf_header")
        sys.exit(1)
    
    chrom_lengths = extract_chromosome_lengths(sys.argv[1], sys.argv[2])
EOF</span>

<span class="token comment"># è¿è¡ŒæŸ“è‰²ä½“é•¿åº¦æå–</span>
python3 <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/extract_chrom_lengths.py"</span> <span class="token string">"<span class="token variable">${REF_GENOME}</span>"</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/vcf_header.txt"</span>

<span class="token comment"># 2. åˆ›å»ºè¿‡æ»¤åçš„GFFæ³¨é‡Šæ–‡ä»¶</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[2/6] åˆ›å»ºè¿‡æ»¤åçš„GFFæ³¨é‡Šæ–‡ä»¶..."</span>

<span class="token function">cat</span> <span class="token operator">&gt;</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/fix_gff_with_filter.py"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'EOF'
import pandas as pd
import re
import sys

def extract_gene_info_with_filter(gff_file, output_file):
    print("è¯»å–GFFæ–‡ä»¶å¹¶æå–å®Œæ•´åŸºå› ä¿¡æ¯ï¼ˆè¿‡æ»¤æ— å¤–æ˜¾å­åŸºå› ï¼‰...")
    
    genes = {}
    mrnas = {}
    exons = []
    
    with open(gff_file, 'r') as f:
        for line in f:
            if line.startswith('#'):
                continue
            
            fields = line.strip().split('\t')
            if len(fields) &lt; 9:
                continue
            
            chrom, source, feature_type, start, end, score, strand, phase, attributes = fields
            
            if feature_type == 'gene':
                gene_id = 'Unknown'
                gene_name = 'Unknown'
                
                if 'ID=' in attributes:
                    gene_id = attributes.split('ID=')[1].split(';')[0]
                if 'gene=' in attributes:
                    gene_name = attributes.split('gene=')[1].split(';')[0]
                elif 'Name=' in attributes:
                    gene_name = attributes.split('Name=')[1].split(';')[0]
                elif gene_id != 'Unknown':
                    gene_name = gene_id
                
                genes[gene_id] = {
                    'name': gene_name,
                    'chrom': chrom,
                    'strand': strand,
                    'start': int(start),
                    'end': int(end),
                    'mrnas': []
                }
            
            elif feature_type == 'mRNA':
                mrna_id = 'Unknown'
                parent_gene = 'Unknown'
                
                if 'ID=' in attributes:
                    mrna_id = attributes.split('ID=')[1].split(';')[0]
                if 'Parent=' in attributes:
                    parent_gene = attributes.split('Parent=')[1].split(';')[0]
                
                mrnas[mrna_id] = {
                    'parent': parent_gene,
                    'chrom': chrom,
                    'strand': strand,
                    'start': int(start),
                    'end': int(end),
                    'exons': []
                }
                
                if parent_gene in genes:
                    genes[parent_gene]['mrnas'].append(mrna_id)
            
            elif feature_type == 'exon':
                parent_mrna = 'Unknown'
                
                if 'Parent=' in attributes:
                    parent_mrna = attributes.split('Parent=')[1].split(';')[0]
                
                exons.append({
                    'parent': parent_mrna,
                    'chrom': chrom,
                    'start': int(start),
                    'end': int(end)
                })
    
    print(f"æ‰¾åˆ° {len(genes)} ä¸ªåŸºå› , {len(mrnas)} ä¸ªmRNA, {len(exons)} ä¸ªå¤–æ˜¾å­")
    
    # å…³è”å¤–æ˜¾å­åˆ°mRNA
    for exon in exons:
        parent = exon['parent']
        if parent in mrnas:
            mrnas[parent]['exons'].append((exon['start'], exon['end']))
    
    # ä¸ºæ¯ä¸ªåŸºå› é€‰æ‹©æœ€é•¿çš„mRNAä½œä¸ºä»£è¡¨ï¼Œå¹¶è¿‡æ»¤æ— å¤–æ˜¾å­çš„åŸºå› 
    print("å¤„ç†åŸºå› å’Œè½¬å½•æœ¬ï¼ˆè¿‡æ»¤æ— å¤–æ˜¾å­åŸºå› ï¼‰...")
    gene_records = []
    skipped_genes = 0
    
    for gene_id, gene_info in genes.items():
        if not gene_info['mrnas']:
            skipped_genes += 1
            continue
        else:
            longest_mrna = None
            max_length = 0
            
            for mrna_id in gene_info['mrnas']:
                if mrna_id in mrnas:
                    mrna = mrnas[mrna_id]
                    length = mrna['end'] - mrna['start']
                    if length &gt; max_length:
                        max_length = length
                        longest_mrna = mrna
            
            if longest_mrna and longest_mrna['exons']:
                sorted_exons = sorted(longest_mrna['exons'], key=lambda x: x[0])
                exon_starts = [exon[0] for exon in sorted_exons]
                exon_ends = [exon[1] for exon in sorted_exons]
                
                gene_records.append({
                    'name': gene_info['name'],
                    'chrom': gene_info['chrom'],
                    'strand': gene_info['strand'],
                    'tx_start': longest_mrna['start'],
                    'tx_end': longest_mrna['end'],
                    'exon_starts': exon_starts,
                    'exon_ends': exon_ends
                })
            else:
                skipped_genes += 1
    
    print(f"ç”Ÿæˆ {len(gene_records)} ä¸ªåŸºå› è®°å½•")
    print(f"è·³è¿‡ {skipped_genes} ä¸ªæ— å¤–æ˜¾å­ä¿¡æ¯çš„åŸºå› ")
    
    # å†™å…¥è¾“å‡ºæ–‡ä»¶
    print("å†™å…¥è¾“å‡ºæ–‡ä»¶...")
    with open(output_file, 'w') as out:
        out.write("#NAME\tCHROM\tSTRAND\tTX_START\tTX_END\tEXON_START\tEXON_END\n")
        
        for gene in gene_records:
            exon_start_str = ','.join(map(str, gene['exon_starts'])) + ','
            exon_end_str = ','.join(map(str, gene['exon_ends'])) + ','
            
            out.write(f"{gene['name']}\t{gene['chrom']}\t{gene['strand']}\t")
            out.write(f"{gene['tx_start']}\t{gene['tx_end']}\t")
            out.write(f"{exon_start_str}\t{exon_end_str}\n")
    
    print(f"è½¬æ¢å®Œæˆ: {output_file}")
    
    print(f"\nğŸ“Š ç»Ÿè®¡ä¿¡æ¯:")
    print(f"æ€»åŸºå› æ•°: {len(genes)}")
    print(f"æœ‰æ•ˆåŸºå› æ•°ï¼ˆæœ‰å¤–æ˜¾å­ï¼‰: {len(gene_records)}")
    print(f"æ— æ•ˆåŸºå› æ•°ï¼ˆæ— å¤–æ˜¾å­ï¼‰: {skipped_genes}")
    print(f"è¿‡æ»¤ç‡: {skipped_genes/len(genes)*100:.1f}%")

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("ç”¨æ³•: python fix_gff_with_filter.py input.gff output.txt")
        sys.exit(1)
    
    extract_gene_info_with_filter(sys.argv[1], sys.argv[2])
EOF</span>

python3 <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/fix_gff_with_filter.py"</span> <span class="token string">"<span class="token variable">${INPUT_GFF}</span>"</span> <span class="token string">"<span class="token variable">${OUTPUT_TXT}</span>"</span>

<span class="token comment"># 3. åˆ›å»ºVCFæ–‡ä»¶ï¼ˆä½¿ç”¨å‡†ç¡®çš„æŸ“è‰²ä½“é•¿åº¦ï¼‰</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[3/6] åˆ›å»ºVCFæ–‡ä»¶ï¼ˆä½¿ç”¨å‡†ç¡®æŸ“è‰²ä½“é•¿åº¦ï¼‰..."</span>
<span class="token assign-left variable">INPUT_VCF</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/input_variants.vcf"</span>

<span class="token comment"># ä½¿ç”¨æå–çš„VCFå¤´</span>
<span class="token function">cat</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/vcf_header.txt"</span> <span class="token operator">&gt;</span> <span class="token string">"<span class="token variable">${INPUT_VCF}</span>"</span>

<span class="token comment"># æ·»åŠ å˜å¼‚æ•°æ®</span>
<span class="token function">awk</span> -F<span class="token string">'\t'</span> <span class="token string">'
NR==1 { next }
{
    chrom = $1;
    pos = $2;
    ref = $3;
    alt = $4;
    if (length(ref) == 1 &amp;&amp; length(alt) == 1) {
        print chrom "\t" pos "\t.\t" ref "\t" alt "\t.\tPASS\t."
    }
}'</span> <span class="token string">"<span class="token variable">${INPUT_TSV}</span>"</span> <span class="token operator">&gt;&gt;</span> <span class="token string">"<span class="token variable">${INPUT_VCF}</span>"</span>

<span class="token assign-left variable">VARIANT_COUNT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">'^#'</span> <span class="token string">"<span class="token variable">${INPUT_VCF}</span>"</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"âœ… VCFåˆ›å»ºå®Œæˆ: <span class="token variable">${VARIANT_COUNT}</span> ä¸ªå˜å¼‚"</span>

<span class="token comment"># 4. è¿è¡Œé¢„æµ‹</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[4/6] è¿è¡ŒOpenSpliceAIé¢„æµ‹..."</span>
<span class="token assign-left variable">OUTPUT_VCF</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/output.vcf"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"ä½¿ç”¨å‡†ç¡®çš„æŸ“è‰²ä½“é•¿åº¦å’Œè¿‡æ»¤åçš„æ³¨é‡Šæ–‡ä»¶..."</span>
openspliceai variant <span class="token punctuation">\</span>
    <span class="token parameter variable">-I</span> <span class="token string">"<span class="token variable">${INPUT_VCF}</span>"</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-R</span> <span class="token string">"<span class="token variable">${REF_GENOME}</span>"</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-A</span> <span class="token string">"<span class="token variable">${ANNOTATION}</span>"</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-m</span> <span class="token string">"<span class="token variable">${MODEL_PATH}</span>"</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-f</span> <span class="token number">2000</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-D</span> <span class="token number">50</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-O</span> <span class="token string">"<span class="token variable">${OUTPUT_VCF}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">tee</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/prediction.log"</span>

<span class="token comment"># æ£€æŸ¥é¢„æµ‹ç»“æœ</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token variable">${OUTPUT_VCF}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">ANNOTATED_COUNT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">grep</span> <span class="token parameter variable">-c</span> <span class="token string">'SpliceAI'</span> <span class="token string">"<span class="token variable">${OUTPUT_VCF}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">"0"</span><span class="token variable">)</span></span>
    <span class="token builtin class-name">echo</span> <span class="token string">"âœ… é¢„æµ‹å®Œæˆ: <span class="token variable">${ANNOTATED_COUNT}</span> ä¸ªå˜å¼‚è¢«æ³¨é‡Š"</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"âŒ é¢„æµ‹å¤±è´¥"</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token comment"># 5. æå–ç»“æœ</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[5/6] æå–é¢„æµ‹ç»“æœ..."</span>
<span class="token assign-left variable">FINAL_RESULTS</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/final_results.tsv"</span>

<span class="token function">cat</span> <span class="token operator">&gt;</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/extract_results.py"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'EOF'
import sys
import re

vcf_file = sys.argv[1]
output_file = sys.argv[2]

with open(vcf_file, 'r') as f, open(output_file, 'w') as out:
    out.write("Chromosome\tPosition\tRef\tAlt\tGene\tDS_AG\tDS_AL\tDS_DG\tDS_DL\tMax_Score\tImpact\n")
    
    count = 0
    for line in f:
        if line.startswith('#'):
            continue
        
        fields = line.strip().split('\t')
        if len(fields) &lt; 8:
            continue
        
        chrom, pos, _, ref, alt, _, _, info = fields
        
        if 'SpliceAI=' in info:
            match = re.search(r'SpliceAI=([^;]+)', info)
            if match:
                data = match.group(1).split('|')
                if len(data) &gt;= 7:
                    gene = data[1]
                    try:
                        ds_ag = float(data[2]) if data[2] != '.' else 0.0
                        ds_al = float(data[3]) if data[3] != '.' else 0.0
                        ds_dg = float(data[4]) if data[4] != '.' else 0.0
                        ds_dl = float(data[5]) if data[5] != '.' else 0.0
                        
                        max_score = max(ds_ag, ds_al, ds_dg, ds_dl)
                        
                        if max_score &gt; 0.8:
                            impact = "VERY_HIGH"
                        elif max_score &gt; 0.5:
                            impact = "HIGH"
                        elif max_score &gt; 0.2:
                            impact = "MEDIUM"
                        else:
                            impact = "LOW"
                        
                        out.write(f"{chrom}\t{pos}\t{ref}\t{alt}\t{gene}\t{ds_ag:.6f}\t{ds_al:.6f}\t{ds_dg:.6f}\t{ds_dl:.6f}\t{max_score:.6f}\t{impact}\n")
                        count += 1
                    except ValueError:
                        continue

print(f"æå–äº† {count} ä¸ªå˜å¼‚çš„ç»“æœ")
EOF</span>

python3 <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/extract_results.py"</span> <span class="token string">"<span class="token variable">${OUTPUT_VCF}</span>"</span> <span class="token string">"<span class="token variable">${FINAL_RESULTS}</span>"</span>

<span class="token comment"># 6. æ¸…ç†å’ŒæŠ¥å‘Š</span>
<span class="token builtin class-name">echo</span> <span class="token string">"[6/6] æ¸…ç†å’Œç”ŸæˆæŠ¥å‘Š..."</span>
<span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/extract_chrom_lengths.py"</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/fix_gff_with_filter.py"</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/extract_results.py"</span> <span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/vcf_header.txt"</span>

<span class="token comment"># æ˜¾ç¤ºæŸ“è‰²ä½“é•¿åº¦ä¿¡æ¯</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ“ ä½¿ç”¨çš„å‡†ç¡®æŸ“è‰²ä½“é•¿åº¦:"</span>
python3 <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
import re

with open("<span class="token variable">${REF_GENOME}</span>", 'r') as f:
    chrom_lengths = {}
    current_chrom = None
    current_length = 0
    
    for line in f:
        if line.startswith('&gt;'):
            if current_chrom and current_length &gt; 0:
                chrom_lengths[current_chrom] = current_length
            
            header = line[1:].strip()
            chrom_name = header.split()[0]
            current_chrom = chrom_name
            current_length = 0
        else:
            current_length += len(line.strip())
    
    if current_chrom and current_length &gt; 0:
        chrom_lengths[current_chrom] = current_length

print("æŸ“è‰²ä½“é•¿åº¦ç»Ÿè®¡:")
for chrom, length in sorted(chrom_lengths.items()):
    print(f"  {chrom}: {length:,} bp")
EOF</span>

<span class="token comment"># æœ€ç»ˆæŠ¥å‘Š</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ‰ ä½¿ç”¨å‡†ç¡®æŸ“è‰²ä½“é•¿åº¦å®Œæˆï¼"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ“Š ç»“æœç»Ÿè®¡:"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  - è¾“å…¥å˜å¼‚: <span class="token variable">${VARIANT_COUNT}</span> ä¸ª"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  - æˆåŠŸæ³¨é‡Š: <span class="token variable">${ANNOTATED_COUNT}</span> ä¸ª"</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">${VARIANT_COUNT}</span> <span class="token parameter variable">-gt</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">SUCCESS_RATE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">"scale=2; <span class="token variable">${ANNOTATED_COUNT}</span> * 100 / <span class="token variable">${VARIANT_COUNT}</span>"</span> <span class="token operator">|</span> <span class="token function">bc</span><span class="token variable">)</span></span>
    <span class="token builtin class-name">echo</span> <span class="token string">"  - æˆåŠŸç‡: <span class="token variable">${SUCCESS_RATE}</span>%"</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ”§ æ”¹è¿›å†…å®¹:"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  âœ… è‡ªåŠ¨ä»FASTAæå–å‡†ç¡®æŸ“è‰²ä½“é•¿åº¦"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  âœ… è¿‡æ»¤æ— å¤–æ˜¾å­ä¿¡æ¯çš„åŸºå› "</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  âœ… ä½¿ç”¨çœŸå®çš„åŸºå› ç»„åæ ‡"</span>

<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ“ è¾“å‡ºæ–‡ä»¶:"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  ğŸ“‹ <span class="token variable">${FINAL_RESULTS}</span> (ä¸»è¦ç»“æœ)"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  ğŸ§¬ <span class="token variable">${OUTPUT_TXT}</span> (è¿‡æ»¤åçš„åŸºå› æ³¨é‡Š)"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"  ğŸ§¬ <span class="token variable">${OUTPUT_VCF}</span> (é¢„æµ‹ç»“æœVCF)"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‘½åä¸º<code>7.run_openspliceai_predict.sh</code>ï¼Œ<code>chmod +x 7.run_openspliceai_predict.sh</code>ï¼Œ<code>./7.run_openspliceai_predict.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h3 id="ç»“æœå±•ç¤ºï¼š"><a href="#ç»“æœå±•ç¤ºï¼š" class="headerlink" title="ç»“æœå±•ç¤ºï¼š"></a>ç»“æœå±•ç¤ºï¼š</h3><p>æ‰§è¡Œï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># OpenSpliceAI æœ€ç»ˆç»“æœè¯¦ç»†åˆ†ææŠ¥å‘Š</span>

<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸŠ OpenSpliceAI æœ€ç»ˆæˆæœæŠ¥å‘Š"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>

<span class="token assign-left variable">OUTPUT_DIR</span><span class="token operator">=</span><span class="token string">"./final_fix_results_auto"</span>
<span class="token assign-left variable">FINAL_RESULTS</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${OUTPUT_DIR}</span>/final_results.tsv"</span>

<span class="token comment"># è¯¦ç»†ç»“æœåˆ†æ</span>
python3 <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
import pandas as pd
import numpy as np
from datetime import datetime

# è¯»å–ç»“æœæ–‡ä»¶
df = pd.read_csv("<span class="token variable">${FINAL_RESULTS}</span>", sep='<span class="token entity" title="\t">\t</span>')

print("ğŸš€ é‡å¤§æ€§èƒ½æå‡!")
print("=" * 50)
print("ä¼˜åŒ–å‰åå¯¹æ¯”:")
print("  ğŸ”´ åˆå§‹ç‰ˆæœ¬:  4/358 (1.11%)")
print("  ğŸŸ¡ ä¸­é—´ç‰ˆæœ¬: 50/358 (13.96%)") 
print("  ğŸŸ¢ æœ€ç»ˆç‰ˆæœ¬: 235/358 (65.64%)")
print("")
print(f"ğŸ“ˆ æ€§èƒ½æå‡: +64.53ä¸ªç™¾åˆ†ç‚¹!")

print(f"<span class="token entity" title="\n">\n</span>ğŸ“Š è¯¦ç»†ç»“æœåˆ†æ - {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
print("=" * 60)

# åŸºæœ¬ç»Ÿè®¡
total_variants = len(df)
print(f"æ€»æ³¨é‡Šå˜å¼‚æ•°: {total_variants}")

# å½±å“çº§åˆ«ç»Ÿè®¡
impact_counts = df['Impact'].value_counts()
print(f"<span class="token entity" title="\n">\n</span>ğŸ¯ å½±å“çº§åˆ«åˆ†å¸ƒ:")
for impact in ['VERY_HIGH', 'HIGH', 'MEDIUM', 'LOW']:
    count = impact_counts.get(impact, 0)
    percentage = (count / total_variants) * 100
    icon = "ğŸ”´" if impact == "VERY_HIGH" else "ğŸŸ " if impact == "HIGH" else "ğŸŸ¡" if impact == "MEDIUM" else "ğŸŸ¢"
    print(f"  {icon} {impact:&lt;9}: {count:3d} ä¸ª ({percentage:5.1f}%)")

# é«˜å½±å“å˜å¼‚è¯¦ç»†åˆ†æ
high_impact = df[df['Impact'].isin(['HIGH', 'VERY_HIGH'])]
if len(high_impact) &gt; 0:
    print(f"<span class="token entity" title="\n">\n</span>ğŸš¨ é«˜å½±å“å˜å¼‚è¯¦æƒ… ({len(high_impact)} ä¸ª):")
    print("-" * 80)
    for idx, row in high_impact.sort_values('Max_Score', ascending=False).iterrows():
        icon = "ğŸ”´" if row['Impact'] == "VERY_HIGH" else "ğŸŸ "
        print(f"{icon} {row['Chromosome']}:{row['Position']} {row['Ref']}-&gt;{row['Alt']}")
        print(f"  åŸºå› : {row['Gene']}")
        print(f"  æœ€å¤§åˆ†æ•°: {row['Max_Score']:.4f} ({row['Impact']})")
        print(f"  è¯¦ç»†åˆ†æ•°: AG={row['DS_AG']:.4f}, AL={row['DS_AL']:.4f}, DG={row['DS_DG']:.4f}, DL={row['DS_DL']:.4f}")
        print()
else:
    print("<span class="token entity" title="\n">\n</span>âœ… æœªå‘ç°é«˜å½±å“å˜å¼‚")

# åˆ†æ•°åˆ†å¸ƒç»Ÿè®¡
print(f"<span class="token entity" title="\n">\n</span>ğŸ“ˆ åˆ†æ•°åˆ†å¸ƒç»Ÿè®¡:")
score_stats = {}
for score_col in ['DS_AG', 'DS_AL', 'DS_DG', 'DS_DL']:
    scores = df[score_col]
    score_stats[score_col] = {
        'max': scores.max(),
        'mean': scores.mean(),
        '&gt;0.2': len(scores[scores &gt; 0.2]),
        '&gt;0.5': len(scores[scores &gt; 0.5]),
        '&gt;0.8': len(scores[scores &gt; 0.8])
    }

score_names = {
    'DS_AG': 'Acceptor Gain',
    'DS_AL': 'Acceptor Loss', 
    'DS_DG': 'Donor Gain',
    'DS_DL': 'Donor Loss'
}

for score_col, stats in score_stats.items():
    name = score_names[score_col]
    print(f"  {name}:")
    print(f"    ğŸ”º æœ€é«˜åˆ†: {stats['max']:.4f}")
    print(f"    ğŸ“Š å¹³å‡åˆ†: {stats['mean']:.4f}")
    print(f"    ğŸŸ¡ &gt;0.2: {stats['&gt;0.2']:3d} ä¸ª")
    print(f"    ğŸŸ  &gt;0.5: {stats['&gt;0.5']:3d} ä¸ª") 
    print(f"    ğŸ”´ &gt;0.8: {stats['&gt;0.8']:3d} ä¸ª")

# åŸºå› åˆ†å¸ƒç»Ÿè®¡
print(f"<span class="token entity" title="\n">\n</span>ğŸ§¬ åŸºå› åˆ†å¸ƒç»Ÿè®¡ (å‰15ä¸ª):")
gene_counts = df['Gene'].value_counts().head(15)
for gene, count in gene_counts.items():
    percentage = (count / total_variants) * 100
    print(f"  {gene}: {count:2d} ä¸ªå˜å¼‚ ({percentage:4.1f}%)")

# æŸ“è‰²ä½“åˆ†å¸ƒ
print(f"<span class="token entity" title="\n">\n</span>ğŸ”¬ æŸ“è‰²ä½“åˆ†å¸ƒ:")
chrom_counts = df['Chromosome'].value_counts()
for chrom, count in chrom_counts.items():
    percentage = (count / total_variants) * 100
    print(f"  {chrom}: {count:3d} ä¸ªå˜å¼‚ ({percentage:5.1f}%)")

# ä¿å­˜è¯¦ç»†æŠ¥å‘Š
report_file = "<span class="token variable">${OUTPUT_DIR}</span>/final_detailed_report.txt"
with open(report_file, 'w') as f:
    f.write("OpenSpliceAI æœ€ç»ˆè¯¦ç»†åˆ†ææŠ¥å‘Š<span class="token entity" title="\\">\\</span>n")
    f.write("=" * 60 + "<span class="token entity" title="\\">\\</span>n<span class="token entity" title="\\">\\</span>n")
    
    f.write("æ€§èƒ½æå‡æ€»ç»“:<span class="token entity" title="\\">\\</span>n")
    f.write("- åˆå§‹ç‰ˆæœ¬: 4/358 (1.11%)<span class="token entity" title="\\">\\</span>n")
    f.write("- ä¸­é—´ç‰ˆæœ¬: 50/358 (13.96%)<span class="token entity" title="\\">\\</span>n")
    f.write("- æœ€ç»ˆç‰ˆæœ¬: 235/358 (65.64%)<span class="token entity" title="\\">\\</span>n")
    f.write("- æ€»æå‡: +64.53ä¸ªç™¾åˆ†ç‚¹<span class="token entity" title="\\">\\</span>n<span class="token entity" title="\\">\\</span>n")
    
    f.write(f"æ€»æ³¨é‡Šå˜å¼‚æ•°: {total_variants}<span class="token entity" title="\\">\\</span>n<span class="token entity" title="\\">\\</span>n")
    
    f.write("å½±å“çº§åˆ«åˆ†å¸ƒ:<span class="token entity" title="\\">\\</span>n")
    for impact in ['VERY_HIGH', 'HIGH', 'MEDIUM', 'LOW']:
        count = impact_counts.get(impact, 0)
        percentage = (count / total_variants) * 100
        f.write(f"  {impact}: {count} ä¸ª ({percentage:.1f}%)<span class="token entity" title="\\">\\</span>n")
    
    if len(high_impact) &gt; 0:
        f.write(f"<span class="token entity" title="\\">\\</span>né«˜å½±å“å˜å¼‚ ({len(high_impact)} ä¸ª):<span class="token entity" title="\\">\\</span>n")
        for idx, row in high_impact.sort_values('Max_Score', ascending=False).iterrows():
            f.write(f"{row['Chromosome']}:{row['Position']} {row['Ref']}-&gt;{row['Alt']}<span class="token entity" title="\\">\\</span>n")
            f.write(f"  åŸºå› : {row['Gene']}, æœ€å¤§åˆ†æ•°: {row['Max_Score']:.4f} ({row['Impact']})<span class="token entity" title="\\">\\</span>n")
            f.write(f"  AG={row['DS_AG']:.4f}, AL={row['DS_AL']:.4f}, DG={row['DS_DG']:.4f}, DL={row['DS_DL']:.4f}<span class="token entity" title="\\">\\</span>n<span class="token entity" title="\\">\\</span>n")
    
    f.write("æ‰€æœ‰æ³¨é‡Šå˜å¼‚:<span class="token entity" title="\\">\\</span>n")
    for idx, row in df.iterrows():
        f.write(f"{row['Chromosome']}:{row['Position']} {row['Ref']}-&gt;{row['Alt']}<span class="token entity" title="\\">\\</span>n")
        f.write(f"  åŸºå› : {row['Gene']}, æœ€å¤§åˆ†æ•°: {row['Max_Score']:.4f} ({row['Impact']})<span class="token entity" title="\\">\\</span>n<span class="token entity" title="\\">\\</span>n")

print(f"<span class="token entity" title="\\">\\</span>nğŸ“„ è¯¦ç»†æŠ¥å‘Šå·²ä¿å­˜: {report_file}")
EOF</span>

<span class="token comment"># åˆ›å»ºä¼˜åŒ–æ€»ç»“</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ’¡ ä¼˜åŒ–å…³é”®å› ç´ æ€»ç»“"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"1. ğŸ”§ å‡†ç¡®çš„æŸ“è‰²ä½“é•¿åº¦"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - ä»FASTAæ–‡ä»¶è‡ªåŠ¨æå–çœŸå®é•¿åº¦"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - é¿å…åæ ‡è¶Šç•Œå’Œè®¡ç®—é”™è¯¯"</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"2. ğŸ§¬ æœ‰æ•ˆçš„åŸºå› æ³¨é‡Š"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - è¿‡æ»¤æ— å¤–æ˜¾å­ä¿¡æ¯çš„åŸºå›  (6,837ä¸ª)"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - åªä¿ç•™æœ‰å®Œæ•´ç»“æ„çš„åŸºå›  (31,371ä¸ª)"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - é¿å…ç©ºåºåˆ—é”™è¯¯"</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"3. ğŸ“ çœŸå®çš„åŸºå› ç»„åæ ‡"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - ä½¿ç”¨å‡†ç¡®çš„åŸºå› ç»„ä½ç½®ä¿¡æ¯"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - æé«˜å‰ªæ¥ä½ç‚¹é¢„æµ‹çš„å‡†ç¡®æ€§"</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ¯ ä¸‹ä¸€æ­¥ç ”ç©¶å»ºè®®"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"1. ğŸ” éªŒè¯é«˜å½±å“å˜å¼‚"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - æ£€æŸ¥åˆ†æ•° &gt;0.5çš„å˜å¼‚"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - ä¸å·²çŸ¥å‰ªæ¥å˜å¼‚æ•°æ®åº“å¯¹æ¯”"</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"2. ğŸ§ª å®éªŒéªŒè¯"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - å¯¹é«˜å½±å“å˜å¼‚è¿›è¡ŒRT-PCRéªŒè¯"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - æ£€æŸ¥å‰ªæ¥å¼‚æ„ä½“çš„å˜åŒ–"</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"3. ğŸ“š åŠŸèƒ½åˆ†æ"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - åˆ†æå—å½±å“åŸºå› çš„ç”Ÿç‰©å­¦åŠŸèƒ½"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - ç ”ç©¶å‰ªæ¥æ”¹å˜å¯¹è›‹ç™½è´¨åŠŸèƒ½çš„å½±å“"</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"4. ğŸ¯ ä¸´åºŠæ„ä¹‰"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - è¯„ä¼°é«˜å½±å“å˜å¼‚çš„è‡´ç—…æ½œåŠ›"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"   - ä¸ç–¾ç—…æ•°æ®åº“è¿›è¡Œå…³è”åˆ†æ"</span>

<span class="token comment"># æ˜¾ç¤ºæœ€é‡è¦çš„é«˜å½±å“å˜å¼‚</span>
<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"ğŸ† æœ€é‡è¦çš„å‘ç°"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token string">"<span class="token variable">${FINAL_RESULTS}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"å‰5ä¸ªæœ€é«˜åˆ†æ•°å˜å¼‚:"</span>
    python3 <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
import pandas as pd

df = pd.read_csv("<span class="token variable">${FINAL_RESULTS}</span>", sep='<span class="token entity" title="\t">\t</span>')
top_variants = df.nlargest(5, 'Max_Score')

for idx, row in top_variants.iterrows():
    icon = "ğŸ†" if row['Max_Score'] &gt; 0.8 else "ğŸ¥‡" if row['Max_Score'] &gt; 0.5 else "ğŸ¥ˆ"
    print(f"{icon} {row['Chromosome']}:{row['Position']} {row['Ref']}-&gt;{row['Alt']}")
    print(f"   åŸºå› : {row['Gene']}")
    print(f"   åˆ†æ•°: {row['Max_Score']:.4f} ({row['Impact']})")
    print(f"   AG: {row['DS_AG']:.4f}, AL: {row['DS_AL']:.4f}, DG: {row['DS_DG']:.4f}, DL: {row['DS_DL']:.4f}")
    print()
EOF</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">""</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"âœ… åˆ†æå®Œå…¨æˆåŠŸï¼"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"========================================"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‘½åä¸º<code>8.show_result.sh</code>ï¼Œ<code>chmod +x 8.show_result.sh</code>ï¼Œ<code>./8.show_result.sh</code> è¿è¡Œå‘½ä»¤ã€‚</p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>é€šè¿‡éµå¾ªè¿™äº›æ­¥éª¤ï¼Œæ‚¨å·²ç»æˆåŠŸåœ°ä½¿ç”¨ç‰©ç§ç‰¹å¼‚æ€§çš„åŸºå› ç»„å’Œæ³¨é‡Šæ–‡ä»¶ï¼Œåœ¨é•¿ç‰¡è›æ•°æ®ä¸Šè®­ç»ƒäº†ä¸€ä¸ª OpenSpliceAI æ¨¡å‹ã€‚è¯¥æ¨¡å‹ç°åœ¨å¯ç”¨äºé¢„æµ‹é•¿ç‰¡è›çš„å‰ªæ¥ä½ç‚¹å’Œåˆ†æé—ä¼ å˜å¼‚çš„å½±å“ï¼Œä»è€Œå°† OpenSpliceAI çš„å®ç”¨æ€§æ‰©å±•åˆ°éäººç±»åŸºå› ç»„å­¦é¢†åŸŸã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://0HHHHHH0.github.io">HHHH</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://0hhhhhh0.github.io/2025/10/22/train-openspliceai/">https://0hhhhhh0.github.io/2025/10/22/train-openspliceai/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/uploads/avatar.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/10/26/planck-pi/" title="Planck-Piå­¦ä¹ "><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Planck-Piå­¦ä¹ </div></div><div class="info-2"><div class="info-item-1">1. é…ç½®ç¼–è¯‘ç¯å¢ƒ1.1 ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦çš„ä¾èµ– sudo apt update sudo apt install xz-utils nano wget unzip build-essential git bc swig libncurses5-dev libpython3-dev libssl-dev pkg-config zlib1g-dev libusb-dev libusb-1.0-0-dev python3-pip gawk bison flex -y sudo apt install python python-dev lib32ncurses5 lib32z1 vim dwarves -y 1.2 äº¤å‰ç¼–è¯‘å·¥å…·é“¾# ä¸‹è½½ wget http://releases.linaro.org/components/toolchain/binaries/7.2-2017.11/arm-linux-gnueabi/gcc-linaro-7.2.1-2017.11-x86_64_arm-linux-gnueabi.tar.xz  $ wget https://releases.li...</div></div></div></a><a class="pagination-related" href="/2025/10/09/hexo-butterfly-ge-ren-bo-ke-da-jian/" title="Hexo + Butterfly ä¸ªäººåšå®¢æ­å»º"><img class="cover" src="https://cdn.jsdelivr.net/gh/0HHHHHH0/Image@master/blog/cmd.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Hexo + Butterfly ä¸ªäººåšå®¢æ­å»º</div></div><div class="info-2"><div class="info-item-1">Hexo + Butterfly ä¸ªäººåšå®¢æ­å»ºåœ¨ç”¨äº†ä¸€å‘¨å·¦å³çš„æ—¶é—´æ­å»ºåšå®¢ï¼Œæ²‰æµ¸äºè¯•æ•ˆæœã€æ”¹ bugã€è¯•æ•ˆæœã€æ”¹ bugâ€¦â€¦çš„å¾ªç¯åï¼Œæˆ‘è¿˜æ˜¯å†³å®šå†™ä¸€ç¯‡æ–‡ç« æ¥è®°å½•ä¸€ä¸‹ï¼Œçœå¾—æœªæ¥çš„è‡ªå·±å†èµ°ä¸€éè¿™ç—›è‹¦çš„è¿‡ç¨‹ã€‚  ä¸€ã€Hexo é™æ€ç½‘é¡µç”Ÿæˆ 1. Node.js å®‰è£…!é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½ Node.jsğŸ‘‰ Node.js â€” åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ JavaScript å®‰è£…å¥½ä¹‹åæˆ‘ä»¬å¯ä»¥è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œå¦‚æœéƒ½èƒ½æ­£å¸¸è¾“å‡ºç‰ˆæœ¬å·åˆ™å®‰è£…æˆåŠŸã€‚ node -v npm -v   2. Git å®‰è£…Git å¯æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œç¨‹åºå‘˜å¿…å¤‡ã€‚å®˜ç½‘åœ¨è¿™é‡Œï¼šGit - Downloading Package éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š git --version  æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å³å¯ã€‚  3. Hexo å®‰è£…åœ¨è‡ªå·±å¿ƒä»ªçš„æ–‡ä»¶å¤¹ä¸‹ï¼ˆå¦‚ E:/hexoï¼‰ï¼Œé¼ æ ‡å³å‡»é€‰æ‹© Git Bash Hereï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š npm install hexo-cli -g npm install hexo --save  å¦‚æœå·²ç»å®‰è£…è¿‡ hexo æˆ–ä¸ç¡®å®šè£…æ²¡è£…è¿‡ä¹Ÿæ²¡å…³ç³»ï¼Œè£…è¿‡çš„æ‰§è¡Œå®Œä¼šæ˜¾ç¤º updateã€‚ æŸ¥çœ‹ç‰ˆæœ¬ï¼š hexo -v  æ­£å¸¸...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/uploads/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">HHHH</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">29</div></a></div><a id="card-info-btn" href="https://github.com/0HHHHHH0"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/0hhhhhh0" target="_blank" title="fab fa-github"><i class="GitHub"></i></a><a class="social-icon" href="mailto:695460776@qq.com" target="_blank" title="fa fa-envelope"><i class="E-Mail"></i></a><a class="social-icon" href="https://x.com/your-user-name" target="_blank" title="fab fa-twitter"><i class="Twitter"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">éšä¾¿é€›é€›!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83%E6%82%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E6%A8%A1%E5%9E%8B%E2%80%94%E2%80%94%E9%95%BF%E7%89%A1%E8%9B%8E"><span class="toc-number">1.</span> <span class="toc-text">è®­ç»ƒæ‚¨è‡ªå·±çš„æ¨¡å‹â€”â€”é•¿ç‰¡è›</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.1.</span> <span class="toc-text">å‰ç½®æ¡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-1%EF%BC%9A%E6%A3%80%E6%9F%A5%E8%BE%93%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">æ­¥éª¤ 1ï¼šæ£€æŸ¥è¾“å…¥æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-2%EF%BC%9A%E5%88%9B%E5%BB%BA%E8%AE%AD%E7%BB%83%E5%92%8C%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.3.</span> <span class="toc-text">æ­¥éª¤ 2ï¼šåˆ›å»ºè®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-3%EF%BC%9A%E8%AE%AD%E7%BB%83%E9%95%BF%E7%89%A1%E8%9B%8E%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">æ­¥éª¤ 3ï¼šè®­ç»ƒé•¿ç‰¡è›æ¨¡å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-4%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89%EF%BC%9A%E8%BD%AC%E7%A7%BB%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.5.</span> <span class="toc-text">æ­¥éª¤ 4ï¼ˆå¯é€‰ï¼‰ï¼šè½¬ç§»æ¨¡å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-5%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89%EF%BC%9A%E6%A0%A1%E5%87%86%E9%95%BF%E7%89%A1%E8%9B%8E%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.</span> <span class="toc-text">æ­¥éª¤ 5ï¼ˆå¯é€‰ï¼‰ï¼šæ ¡å‡†é•¿ç‰¡è›æ¨¡å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4-6%EF%BC%9A%E9%83%A8%E7%BD%B2%E6%82%A8%E8%AE%AD%E7%BB%83%E5%A5%BD%E7%9A%84%E9%95%BF%E7%89%A1%E8%9B%8E%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.7.</span> <span class="toc-text">æ­¥éª¤ 6ï¼šéƒ¨ç½²æ‚¨è®­ç»ƒå¥½çš„é•¿ç‰¡è›æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%951%EF%BC%9A"><span class="toc-number">1.7.1.</span> <span class="toc-text">æµ‹è¯•1ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%952%EF%BC%9A"><span class="toc-number">1.7.2.</span> <span class="toc-text">æµ‹è¯•2ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA%EF%BC%9A"><span class="toc-number">1.7.3.</span> <span class="toc-text">ç»“æœå±•ç¤ºï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">1.8.</span> <span class="toc-text">ç»“è®º</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/24/indel/" title="è®°ä¸€æ¬¡æ¸…ç©ºSMARTä¿®å¤ç¾¤æ™–æŠ¥æ•…éšœçš„ç¡¬ç›˜">è®°ä¸€æ¬¡æ¸…ç©ºSMARTä¿®å¤ç¾¤æ™–æŠ¥æ•…éšœçš„ç¡¬ç›˜</a><time datetime="2025-12-24T04:56:00.000Z" title="Created 2025-12-24 12:56:00">2025-12-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/02/gemini/" title="æ ¹æ®SNPä½ç‚¹è¿›è¡Œå¿«é€Ÿå¼•ç‰©è®¾è®¡â€”â€”ç½‘é¡µç‰ˆ">æ ¹æ®SNPä½ç‚¹è¿›è¡Œå¿«é€Ÿå¼•ç‰©è®¾è®¡â€”â€”ç½‘é¡µç‰ˆ</a><time datetime="2025-12-02T14:26:00.000Z" title="Created 2025-12-02 22:26:00">2025-12-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/24/latex/" title="LaTeXè¯¦ç»†æ•™ç¨‹+æŠ€å·§æ€»ç»“">LaTeXè¯¦ç»†æ•™ç¨‹+æŠ€å·§æ€»ç»“</a><time datetime="2025-11-24T14:26:00.000Z" title="Created 2025-11-24 22:26:00">2025-11-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/10/gwas-ld-block/" title="GWAS + çƒ­ç‚¹åŒºåŸŸè¯†åˆ« + LD Block åˆ†ææµç¨‹è¯¦è§£">GWAS + çƒ­ç‚¹åŒºåŸŸè¯†åˆ« + LD Block åˆ†ææµç¨‹è¯¦è§£</a><time datetime="2025-11-10T14:26:00.000Z" title="Created 2025-11-10 22:26:00">2025-11-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/09/fen-zi-dui-jie/" title="ä»åŸºå› åˆ°ç»“æ„ï¼šç”¨PyMOLå¯è§†åŒ–ç†è§£åˆ†å­å¯¹æ¥ä¸çªå˜æ•ˆåº”">ä»åŸºå› åˆ°ç»“æ„ï¼šç”¨PyMOLå¯è§†åŒ–ç†è§£åˆ†å­å¯¹æ¥ä¸çªå˜æ•ˆåº”</a><time datetime="2025-11-09T14:26:00.000Z" title="Created 2025-11-09 22:26:00">2025-11-09</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By HHHH</span><span class="framework-info"><span>Framework </span><a href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div><div class="container" id="jsi-flying-fish-container"><script src="js/fish.js"></script></div><style>   @media only screen and (max-width: 767px){
   #sidebar_search_box input[type=text]{width:calc(100% - 24px)}
}</style></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/fish.js" defer data-pjax></script><script type="text/javascript" src="/js/busuanzi.pure.mini.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="local-search-input"><input placeholder="Search for Posts" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/09/hexo-butterfly-ge-ren-bo-ke-da-jian/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/0HHHHHH0/Image@master/blog/cmd.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-09</span><a class="blog-slider__title" href="2025/10/09/hexo-butterfly-ge-ren-bo-ke-da-jian/" alt="">Hexo + Butterfly ä¸ªäººåšå®¢æ­å»º</a><div class="blog-slider__text">å†æ€ä¹ˆçœ‹æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæè¿°å®ƒçš„å•¦ï¼</div><a class="blog-slider__button" href="2025/10/09/hexo-butterfly-ge-ren-bo-ke-da-jian/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/11/10/gwas-ld-block/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/0HHHHHH0/Image@master/blog/v2-ecafe797ee44a3cafe3e129237072370_1440w.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-11-10</span><a class="blog-slider__title" href="2025/11/10/gwas-ld-block/" alt="">GWAS + çƒ­ç‚¹åŒºåŸŸè¯†åˆ« + LD Block åˆ†ææµç¨‹è¯¦è§£</a><div class="blog-slider__text">å†æ€ä¹ˆçœ‹æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæè¿°å®ƒçš„å•¦ï¼</div><a class="blog-slider__button" href="2025/11/10/gwas-ld-block/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/07/31/19/" alt=""><img width="48" height="48" src="https://cdn.jsdelivr.net/gh/0HHHHHH0/Image@master/blog/OIP-C.2E7GSli1t13WJ-Of6Hp9UgHaEi" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-07-31</span><a class="blog-slider__title" href="2025/07/31/19/" alt="">2.é‡æµ‹åºæ•°æ®åˆ†æâ€”â€”åˆæ­¥æ•´ç†</a><div class="blog-slider__text">å†æ€ä¹ˆçœ‹æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæè¿°å®ƒçš„å•¦ï¼</div><a class="blog-slider__button" href="2025/07/31/19/" alt="">è¯¦æƒ…   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --></body></html>